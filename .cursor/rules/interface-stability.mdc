---
description: Интерфейс не должен падать — проверка layout, стилей и выхода из системы
alwaysApply: true
---

# Стабильность интерфейса

## Обязательно проверять
- **Выход из системы** — после signOut интерфейс должен оставаться стилизованным; не должно быть «голого» HTML без CSS
- **Хуки React** — все useState/useEffect вызывать до любого условного return, иначе «Rendered more hooks»
- **Layout** — корневой layout не должен падать при смене session (null/authenticated); клиентские компоненты должны корректно обрабатывать status === 'unauthenticated'

## При доработках
- Не ломать отображение для неавторизованных пользователей
- После изменений в Header, SessionProvider, layout — проверять сценарий «залогинился → вышел»
- При «интерфейс упал» — проверить: порт в браузере совпадает с портом dev-сервера (иначе CSS/chunks 404), наличие error.tsx / global-error.tsx для перехвата ошибок
